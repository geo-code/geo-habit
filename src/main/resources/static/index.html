<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
    <script src="webjars/vue/2.6.10/dist/vue.js"></script>
    <script src="webjars/axios/0.19.0/dist/axios.js"></script>
    <script src="webjars/jquery/3.4.1/jquery.js"></script>
    <script src="webjars/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="webjars/bootstrap/4.3.1/js/bootstrap.js"></script>
    <script src="webjars/momentjs/2.24.0/moment.js"></script>
    <link rel="stylesheet" href="webjars/bootstrap/4.3.1/css/bootstrap.css">
    <style>
        .center {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        div.item {
            margin: 10px;
            padding-top: 10px;
            border: thin solid slategray;
            border-radius: 5px;
        }
    </style>
</head>
<body>
<div id="app">
    <div class="row">
        <div class="col-10 row">
            <a href="#" class="col-3 center"> <img src="icon/arrow-left.svg" width="25"> </a>
            <a href="#" class="col-5 center text-dark"> 2020-06-10 </a>
            <a href="#" class="col-3 center"> <img src="icon/arrow-right.svg" width="25"> </a>
        </div>
        <div class="col-2 center dropdown text-right">
            <a class="btn" href="#" id="dropdownMenuLink" data-toggle="dropdown">
                <img src="icon/justify.svg" width="30">
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
                <a class="dropdown-item" href="#"> Record </a>
                <a class="dropdown-item" href="#"> Edit </a>
            </div>
        </div>
    </div>
    <div v-for="(item, index) in items" class="row item">
        <div class="col-9">
            <h5> {{item.name}} </h5>
            <div class="row">
                <div class="col-6">
                    {{item.continuousDays}} days
                </div>
                <div class="col-6 text-right">
                    {{item.weekAchieved}}/{{item.weekGoal}}
                </div>
            </div>

            <table class="table">
                <tr>
                    <template v-for="a in item.activities">
                        <td v-if="a" class="border" style="background-color: lightgoldenrodyellow"></td>
                        <td v-if="a == false" class="border" style="background-color: lightgray"></td>
                        <td v-if="a == null" class="border"></td>
                    </template>
                </tr>
            </table>
        </div>
        <div class="col-3 center">
            <img @click="toggleItem(index)" v-if="item.checked" :src="'adioma/blue/' + item.icon + '.png'" style="height: 60px;">
            <img @click="toggleItem(index)" v-else :src="'adioma/gray/' + item.icon + '.png'" style="height: 60px;">
        </div>
    </div>
</div>
</body>
</html>

<script>
    var app = new Vue({
        el: '#app',
        data: {
            day: '2020-06-11',
            items: []
        },
        created: function () {
            axios.get('/items/' + this.day).then((response) => {
                this.items = response.data;
            });
        },
        methods: {
            toggleItem(index) {
                alert(this.items[index].habitId);
            }
        }
    });
</script>